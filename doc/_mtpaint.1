.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.3
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "MTPAINT 1"
.TH MTPAINT 1 "2006-3-1" "mtPaint 2.30" "Mark Tyler's Painting Program"
.SH "NAME"
mtpaint \- A simple painting program
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
mtpaint\ [option]\ [imagefile\ ...\ ]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
mtPaint is a simple \s-1GTK+1/2\s0 painting program designed for creating icons and pixel based artwork. It can edit indexed palette or 24 bit \s-1RGB\s0 images and offers basic painting and palette manipulation tools. Its main file format is \s-1PNG\s0, although it can also handle \s-1JPEG\s0, \s-1GIF\s0, \s-1TIFF\s0, \s-1BMP\s0, \s-1XPM\s0, and \s-1XBM\s0 files. Due to its simplicity and lack of dependencies it runs well on GNU/Linux, Windows and older \s-1PC\s0 hardware.
.SH "OPTIONS"
.IX Header "OPTIONS"
mtPaint can accept one of the following options:
.PP
.Vb 4
\&  --help        Output usage information
\&  --version     Output version information
\&  -s            Grab a screenshot
\&  -v            Start mtPaint in viewer mode
.Ve
.SH "DETAILS"
.IX Header "DETAILS"
.Sh "File Formats"
.IX Subsection "File Formats"
mtPaint can handle the following file formats:
.PP
\&\s-1PNG\s0	Load/Save indexed palette and 24 bit \s-1RGB\s0 with optional transparency index
.PP
\&\s-1JPEG\s0	Load 24 bit \s-1RGB\s0 & Greyscale. Save 24 bit \s-1RGB\s0 \- Quality set by Preferences window
.PP
\&\s-1XPM\s0	Load/Save indexed palette \- Including transparency index via Preferences\->Files
.PP
\&\s-1XBM\s0	Load/Save \- Including hotspot via Preferences\->Files
.PP
\&\s-1GIF\s0	Load/Save single image indexed palette with optional transparency index. If you have Gifsicle installed you can also load and save animated \s-1GIF\s0 files.
.PP
\&\s-1TIFF\s0	Load/Save 24 bit \s-1RGB\s0
.PP
\&\s-1BMP\s0	Load/Save uncompressed 1, 4, 8 bit indexed palette or 24 bit \s-1RGB\s0
.PP
When loading a file, mtPaint will automatically determine what the file format is and load it accordingly.
.PP
When loading an image file which contains meta data (e.g. image author or comments), mtPaint does not save this data so if this is important to you then you will need to save a new file to avoid losing data that is in the original file.
.PP
It is possible to save all of the current undo images to a sequence of \s-1PNG\s0 files.  Go to the File menu and select the \*(L"Export Undo Images\*(R" option.  Choose which directory you want to save the files to and then enter the file prefix in the filename box, e.g. \*(L"out\*(R".  The undo files will then be saved to out001.png, out002.png etc.
.PP
Once you have done this you can have fun animating these images and see how your artwork developed to its final state.  The easiest way to do this is to use the ImageMagick command:
.PP
animate \-delay 10 out*.png
.PP
mtPaint can export an indexed image with 16 or fewer colours to an \s-1ASCII\s0 Art text file (File \-> Export \s-1ASCII\s0 Art).  mtPaint presumes that this is a greyscale image with 16 levels of intensity (0=black), so to convert a 24 bit \s-1RGB\s0 photo image to \s-1ASCII\s0 art you could try the following:
.PP
.Vb 8
\&        1) Reduce the image to a width of about 80 pixels using scale or crop
\&        2) Image -> Greyscale
\&        3) Effects -> Contrast : Ensure that the image has a strong contrast between black and white areas
\&        4) Palette -> Set Palette Size : to 16
\&        5) Set A as colour 0 (black) and B as colour 15 (white)
\&        6) Palette -> Create Scale
\&        7) Image -> Convert To Indexed : using 16 colours and Quantize to palette
\&        8) File -> Export ASCII Art : to ~/a.txt
.Ve
.PP
~/a.txt will then contain an \s-1ASCII\s0 version of the image that should be viewed in an editor or console with a dark background and light text.  If you use a light background with dark text, simply invert the image after step 2).
.Sh "The Palette"
.IX Subsection "The Palette"
An indexed palette image can have between 2 and 256 colours.  At any time you can change the \s-1RGB\s0 values of a colour by doing one of the following:
.PP
.Vb 3
\&        * Click on the current colour A or B in the top left corner
\&        * Press Ctrl-E or Ctrl-W
\&        * Access the Palette menu
.Ve
.PP
You can then adjust the colour values.  If you then confirm the change, this will adjust that colour index and also any pixels on the canvas which have that index.
.PP
There is a colour protection mask feature which stops certain colours from being painted over on the canvas.  This is very useful when you have drawn an outline and then want to fill in between these lines with other colours without affecting the outline.  To protect a colour from being painted on, simply left click to the right of its colour in the palette window \- a cross should then appear.  Click again and the mask will be removed and this colour can be edited on the canvas as normal.  The palette menu allows you to set or clear the mask for all colours.  This protection affects all basic tools like normal painting or pasting (\s-1RGB\s0 & Indexed images) but does not affect the global functions like colour transformations.
.PP
Each colour in the palette is defined by 3 channels \- Red, Green and Blue.  For each channel there are 8 bits assigned to define its intensity \- 0 for nothing, 255 for maximum.  While editing a colour you can simulate other bit levels per channel to rationalize the palette from the potential 16777216 colours available.  For example, if you use the posterize feature at 3 bits per channel, this will result in a choice of 512 colours, i.e. 8x8x8 or 2^3 x 2^3 x 2^3.  I find this setting helpful when recreating artwork from previous generations of home computers \- the Atari \s-1ST\s0 in this case.
.PP
Sometimes when you posterize an image, you will end up with duplicate palette entries.  To merge these together and tidy up the palette you choose the following menu items:
.PP
.Vb 1
\&        1) Merge duplicate colours
.Ve
.PP
This option will find identical palette colours and then scan the canvas to ensure that only one palette index is used.
.PP
.Vb 1
\&        2) Remove unused colours
.Ve
.PP
This option removes any palette colours that do not have pixels on the canvas, and updates the canvas to reflect any index changes.
.PP
It is possible to generate scales within the whole palette.  To do this selection the first colour as A and the second colour as B and the select 'Create Scale' from the Palette menu.  mtPaint will then calculate the in between values.
.PP
It is possible to move a colour entry from one index to another in the palette list.  To do this, try the following:
.PP
.Vb 5
\&        1) Move the mouse pointer to the colour you want to move
\&        2) Press and hold the shift key
\&        3) Press and hold the left mouse button
\&        4) Drag the pointer to the desired index
\&        5) Release the mouse pointer to commit the operation
.Ve
.PP
When doing this with an indexed image, the canvas colours will be adjusted to accommodate the change.  The \s-1RGB\s0 canvas remains unchanged.  A more generic sort is possible by accessing the 'Palette' menu.
.PP
When you are editing a 24 bit \s-1RGB\s0 image the palette behaves slightly differently.  For example, when you change a colour in the palette the canvas remains unchanged.
.Sh "Patterns"
.IX Subsection "Patterns"
There are several different patterns that you can use to paint onto the canvas.  To choose one you must do one of the following:
.PP
.Vb 3
\&        * Click on the current pattern in the top left corner
\&        * Press F2
\&        * Access the Edit menu
.Ve
.PP
After selecting your desired pattern you must then choose which 2 colours will be used with this pattern.  Left click a colour in the palette area to set colour A, and right click to set colour B.  The preview area will show you what the final pattern will look like.  You can also press Ctrl+Left Button to select colour B if you are using a single button stylus/tablet.  While using a painting tool, you can press an arrow key to change colour A or B.
.PP
If you want to create your own custom patterns you can either edit \*(L"patterns.c\*(R" in a text editor or edit ./src/graphics/patterns.png with mtPaint.  You create your own c file by executing \*(L"Edit\->Create Patterns\*(R".  Rename the files accordingly, recompile mtPaint and you should now be able to use your own patterns.
.Sh "Tools"
.IX Subsection "Tools"
The most basic tool is the Paint tool which paints pixels onto the canvas.  To pick a brush for the paint tool press F3, access the Edit menu, press the brush icon or press the preview area.  Each brush can be configured by setting the size spin button.  The spray also requires the user to set the flow.  The higher the number the more pixels will be splattered onto the canvas.
.PP
If at any time you make a mistake, you can always use the undo/redo functions.  Memory permitting, this is for up to 100 actions.  You can change the maximum memory limit for the undo feature in the preferences window.
.PP
By pressing F11 or using the Edit menu you can set painting mode to \*(L"Continuous\*(R".  A \*(L"\s-1CON\s0\*(R" will then appear on the status bar for a visual reminder.  This mode means that mtPaint will fill in the area between static shapes while the tool is being used.  This is very useful for drawing outlines or using the slash/backslash for calligraphy style effects.
.PP
When you are editing an \s-1RGB\s0 image it is possible to change the opacity of certain tool operations.  For example if you press Ctrl+3 you will set opacity to 30% which means that if you draw a rectangle over an area, it will paint the current pattern with 30% transparency so you will still see some of what was on the canvas originally.  Opacity works with static tool shapes, spray, straight line and pasting.  It does not affect flood fill or pixel shuffling.  Tool opacity behaviour can be altered by pressing F12 or accessing the Edit menu to toggle the opacity drawing mode (\*(L"\s-1OP\s0\*(R" should appear on the status bar as a reminder).  By setting this toggle to off you can get some very interesting results with the spray or by dragging and pasting at the same time.  In different situations you may want either behaviour so it is probably best to experiment to learn what the possibilities are.
.PP
The line tool is used by clicking on the 'Straight Line' ruler icon on the toolbar or F8.  You click and release the left mouse button on the canvas where you want to start the straight line.  You then move the pointer to the end point and click again to draw the line.  Pressing escape or the right button will cancel the operation and stop line drawing until you press the left button again.  You can also add an arrowhead to the end of the line by pressing the 'A' (open head) or 'S' (closed head) keys.  The size of the arrowhead is determined by the tool flow value.
.PP
The text tool can be used to add basic text strings to an image.  Firstly you choose the colours and pattern you want, then click on the 'T' icon or use the 'Edit\->Paste Text' menu option.  Type the text you want and then choose the font.  Once this is done you can drag the text around the image as it becomes a normal paste box.  If you are using \s-1GTK+2\s0 and editing an \s-1RGB\s0 image you also have the option of having antialiased text for smoother edges around the text.  \s-1GTK+2\s0.6 users have the luxury of rotating the text to any angle.  All versions support rotating by 90 degree steps with the rotate selection icons or the Selection menu.  While pasting text you can also change the colour or pattern on the fly.
.PP
If you are editing a large image or are zoomed in heavily you may find the pan window useful to navigate around quickly.  The pan window can be invoked by pressing the 'End' key, using the View menu or pressing the icon on the toolbar.  This will then bring up a thumbnail of the whole image with a rectangle showing what portion is currently being viewed.  Left clicking or dragging the mouse will move the centre of the image to where you click.  The arrow keys can be used to move the view in the appropriate direction.  Any other keypress (including the 'End' key) or the right button will close the pan window .  While using the pan window, the zoom keys (0\-9, +, \-) and the Home key work as normal.  The size of the pan window can be set with the preferences window.
.PP
If you are editing an image at a high zoom and you would like to see what the normal sized image looks like at the same time, you may find the View Window useful.  Press 'V' or use the View menu to call this window up.
.PP
The clone tool is used to copy chunks from one part of the image to the other.  After selecting the clone tool you must set the tool size, e.g. 25, then move the mouse cursor over the canvas area.  Then if you hold the Ctrl key down and move the mouse you will see the tool perimeter (black and white) move away from the clone perimeter (black and red).  After releasing Ctrl you can then press the left mouse button to copy from the red/black box to the white/black box.  When editing an \s-1RGB\s0 image you can also use variable opacity \- this behaviour is governed by whether you are using 'Opacity Undo Mode' or not fom the Edit menu.
.PP
If you have configured a pressure sensitive graphics tablet you can use this device in mtPaint.  To configure this input you use the Tablet section of the preferences window where you must choose the device and then determine which variables the pressure will vary.
.PP
The tint mode is used by the painting tools to adjust the canvas pixel relative to the current painting pattern and colour.  In \s-1RGB\s0 mode this means adjusting each \s-1RGB\s0 channel, and in indexed mode the pixel index is changed.  When using the normal paint brushes the left mouse button tints by adding, and the right mouse button tints by subtracting.  For lines, rectangles, ellipses and polygons you set the +\- toggle to determine the direction.
.Sh "Selections"
.IX Subsection "Selections"
In order to make a selection you press the 'Make Selection' icon on the toolbar or press Ctrl-A to select the whole image.  You then click the left mouse button on the canvas and drag the rectangle to the area you want to select.  To clear this selection press Escape, the right mouse button, Ctrl+Shift\-A or use the Edit menu.  The selection box can be moved around pixel by pixel by using the arrow keys.  Pressing Shift and the arrow keys causes the selection box to be moved a set number of pixels determined by the Preferences window.  After you have made a selection you can click and drag the corners to new positions.  With the tool mouse cursor option switched on you will see the relevant corner arrow to indicate this new behaviour.
.PP
Once a selection has been made you can select 'Crop' from the Image menu, or press the delete key which will reduce the canvas size to the selected area.  Cropping will not be possible if the whole canvas is selected.
.PP
Pressing Ctrl-C causes the selection area to be copied to the clipboard ready for pasting.
.PP
Pressing Ctrl-X causes the selection area to be copied to the clipboard and then this area of the canvas is filled with the current pattern \- apart from pixels that have been protected with the colour mask.
.PP
Pressing Ctrl-V pastes the clipboard onto the canvas at the centre of the view.
Pressing Ctrl-K pastes the clipboard onto the canvas at the position from which it was copied.
.PP
While pasting, the arrow keys can be used to position the box before committing the operation.  Escape cancels the operation and removes the paste box.  Also, if you have selected to show tool shaped cursors in \*(L"Image\->Preferences\*(R", by moving the mouse over the paste box the cursor will change to a four way arrow.  While doing this, you can press the left mouse button and you will be able to drag the paste box.
.PP
In order to commit the paste operation, press the right mouse button or the Enter/Return key.  By pressing both mouse buttons down and dragging you can use the clipboard image as a brush.  When you are editing an image with a colour protection mask, you stop these colours being changed on the canvas.
.PP
When you are pasting it is possible to use a colour transparency mask to enable the pasting of non rectangular shapes.  The easiest way to understand this is to try the following example:
.PP
.Vb 6
\&        1) Type "mtpaint src/graphics/testcard.png"
\&        2) Press Ctrl-A, then Ctrl-C, then Ctrl-V.
\&        3) You will then be able to move the paste clipboard as normal.
\&        4) If you then select "Selection -> Mask Colours A,B" from the menu you will make red and black colours on the clipboard transparent.
\&        5) To return to normal, select "Selection -> Clear Mask"
\&        6) Further colours can be masked on a cumulative basis by selecting them via the palette and using "Selection -> Mask Colours A,B" again.
.Ve
.PP
I have put an option into the preferences window so that you can choose not to have the clipboard image displayed while moving the paste box.  In other words, you will simply see the blue/white outline until you commit the operation.
.PP
The selection tool is also used to direct several other painting functions.  These are located under the \*(L"Selection\*(R" menu.  For example, you can fill the current selection rectangle or draw an ellipse.
.PP
As well as rectangle selections, you can use the polygon selection tool to create polygon shapes in order to fill, outline, copy, cut and paste.  After selecting this tool you click the left mouse button on the canvas where you want to start forming the polgon shape.  You can then either hold the left button down for a freehand shape or release it to have a long straight edge.  To finish press the right button.
.PP
You can also create an polygon by holding down the right mouse button and then dragging.  In this case, releasing the right button completes the polygon.
.PP
To cancel the shape press the Escape key.
.PP
Once a polygon selection has been made you can use the lasso tool to shrink wrap the edges of the selection with the same colour.  For example if you have a black background with a red circle, a rough freehand polygon around it followed by pressing the lasso icon will create a paste of just the red circle with the black area removed.  Using the Selection menu you can also 'lasso cut' an area which fills the lasso selected area on the canvas.
.Sh "The Clipboard"
.IX Subsection "The Clipboard"
mtPaint allows the user to store up to 12 images in a multiple image clipboard.  This works by saving a \s-1PNG\s0 file containing each clipboard image and then using the Edit menu to load these images as required.
.PP
To save image data to the clipboard try the following example:
.PP
.Vb 3
\&        1) Make a selection on the canvas
\&        2) Copy the selection - Ctrl-C
\&        3) Save this selection to clipboard 3 - Ctrl-F3
.Ve
.PP
To load this clipboard image at any time simply press Shift\-F3.  The benefit of using a multiple image clipboard in this way is that it gives the user more flexibility.  For example, you can have two independent mtPaint programs running and be able to load and save clipboard data between the two at the touch of a button.  Also, as long as the files are not deleted you will have access to these clipboard images after closing and restarting mtPaint (or even rebooting the system).
.PP
It is only possible to paste an \s-1RGB\s0 clipboard onto an \s-1RGB\s0 image and an Indexed Palette clipboard onto an Indexed Palette image.
.PP
As the clipboard files are standard \s-1PNG\s0 files, the user can also open them in another mtPaint process and edit them.  The clipboard files are stored in the location set in the Preferences window.
.Sh "Layers"
.IX Subsection "Layers"
For some types of painting and image manipulation it is convenient to use multiple layers of images rather than a single image.  For example you may want to overlay text or drawings over a photograph and then be able to move or edit each layer independently.
.PP
To use layers with mtPaint you must first load the image you want to be the background.  This is the most important step as all the other layers sit on top of this image (also, the size of the background image determines the size of the final composite image).  Next you must create a new layer by using the Layers window ('L' key or View menu).  You can then edit, manipulate, load to, or save this new layer just like any other image.  The only difference is that this image can have a transparent colour which will show the pixels used on the background image (or lower layers if there are any).
.PP
You can move any layer around by clicking and dragging it in the the view window, or by pressing \s-1CTRL\s0 and using the arrow keys (+SHIFT nudges like pasting).  There is also a button on the layers window which puts the layer back to the centre of the background image.  The layers window allows you to name each layer for convenience and to temporarily hide it by unchecking the toggle button to the right of the layers name.
.PP
When you decide you want to save this composite image you press the 'Save' button which saves 2 files:
.PP
.Vb 2
\&  1) A small text file containing information about each layer.
\&  2) The composite image which is a normal RGB PNG file.
.Ve
.PP
You can then load these layers back into mtPaint by loading the text file back into mtPaint.
.PP
Please note that when you save the composite image and text file you are not saving each individual layer.  As mentioned earlier, each layer is considered to be its own file and must be saved with the 'File' menu or Ctrl-S as normal.  The benefit of treating the layers separately is as follows:
.PP
.Vb 3
\&  1) Less disk space is required as the layers are not clumped together into a new file.
\&  2) Image layers can be edited with any other image editor.
\&  3) If you are using a standard image for several composite images (e.g. a standard logo or piece of text for watermarking photos), you only need to edit one image and all of the other composite images will be updated automatically the next time you save them.
.Ve
.PP
After saving the layers text file you must not move it anywhere else unless you also move the image files with it as these file references are relative.  The simplest method is to keep all original images and text files in a single directory.
.PP
When using layers, the undo memory limit set in the preferences window must be divided by the number of layers to determine the limit per layer.  For example, with a 32MB limit and 4 layers there is an 8MB limit per layer for the undo.
.PP
To see examples of layers, try \*(L"mtpaint ./src/graphics/*.txt\*(R" from the sources tarball.
.Sh "Animation"
.IX Subsection "Animation"
If you have created a composite image with 2 or more layers you can use mtPaint to automatically move these layers in a sequence.  The results can be previewed and then output to a series of image files ready for packing into an animation, such as a \s-1GIF\s0 or \s-1MPEG\s0 file.
.PP
The first step is to create the image layers and save the layers file.  Once you have done this you need to plan and coordinate what layers will move at what moment in time.  Once this is clear in your mind you can use the Frames menu to set up and configure your animation.
.PP
Initially you must set up general issues like frame numbers, file names and so on.  You must then set the layer positions for each of the frames.  A quick way to set this is to use the \*(L"Set key frame\*(R" menu operation.
.PP
The positions tab will show you each of the current layers in a list on the left.  If you click on one of these you can then edit the text box on the right to set the positions for this layer.  You are able to define up to 100 positions for each layer, with a separate line for each position.  5 numbers should be entered into each line, with a tab separating each number.  The syntax is as follows:
.PP
.Vb 1
\&  frame x       y       opacity effect
.Ve
.PP
For this to work properly each successive line must have a frame number that is greater than or equal to the previous line.
.PP
There is also a cycles tab which is used to determine which layers are visible at any particular time.  Up to 100 lines can be entered in the following format:
.PP
.Vb 1
\&  frame1        frame2  layer1, layer2, layer3, ... , layer50
.Ve
.PP
Up to 50 layers can be listed on each line.  Between the 2 frames of the animation only one of the sequence will be visible, with the others being switched off.  As the frame increments, the next layer in the sequence will be shown, and the previous one hidden.
.PP
For example:
.PP
.Vb 1
\&  1     10      1, 2, 3
.Ve
.PP
Will cycle the visibility of layers 1, 2, 3 between frames 1 and 10.
.PP
Normally frame2 will be greater than frame1, but if they are equal you can then manually set which layers are visible or invisible at that frame.  For example:
.PP
.Vb 1
\&  15    15      10, 11, 12, -1, -2, -3
.Ve
.PP
Will show layers 10, 11, 12 and hide layers 1, 2, 3 at frame 15.
.Sh "Keyboard shortcuts"
.IX Subsection "Keyboard shortcuts"
.Vb 4
\&  Ctrl-N            Create new image
\&  Ctrl-O            Open Image
\&  Ctrl-S            Save Image
\&  Ctrl-Q            Quit program
.Ve
.PP
.Vb 7
\&  Ctrl-A            Select whole image
\&  Escape            Select nothing, cancel paste box
\&  Ctrl-C            Copy selection to clipboard
\&  Ctrl-X            Copy selection to clipboard, and then paint current pattern to selection area
\&  Ctrl-V            Paste clipboard to centre of current view
\&  Ctrl-K            Paste clipboard to location it was copied from
\&  Enter/Return      Commit paste to canvas
.Ve
.PP
.Vb 3
\&  Arrow keys        Paint Mode - Change colour A or B
\&  Arrow keys        Selection Mode - Nudge selection box or paste box by one pixel
\&  Shift+Arrow keys  Nudge selection box or paste box by x pixels - x is defined by the Preferences window
.Ve
.PP
.Vb 3
\&  Delete            Crop image to selection
\&  Insert            Transform colours - i.e. Brightness, Contrast, Saturation, Posterize, Gamma
\&  Ctrl-G            Greyscale the image
.Ve
.PP
.Vb 4
\&  Ctrl-T            Draw a rectangle around the selection area with the current fill
\&  Ctrl-Shift-T      Fill in the selection area with the current fill
\&  Ctrl-L            Draw an ellipse spanning the selection area
\&  Ctrl-Shift-L      Draw a filled ellipse spanning the selection area
.Ve
.PP
.Vb 2
\&  Ctrl-E            Edit the RGB values for colours A & B
\&  Ctrl-W            Edit all palette colours
.Ve
.PP
.Vb 2
\&  Ctrl-P            Preferences
\&  Ctrl-I            Information
.Ve
.PP
.Vb 2
\&  Ctrl-Z            Undo last action
\&  Ctrl-R            Redo an undone action
.Ve
.PP
.Vb 4
\&  C                 Command Line Window
\&  V                 View Window
\&  L                 Layers Window
\&  Z                 Set zoom
.Ve
.PP
.Vb 2
\&  +,=               Zoom in
\&  -                 Zoom out
.Ve
.PP
.Vb 9
\&  1                 10% zoom
\&  2                 25% zoom
\&  3                 50% zoom
\&  4                 100% zoom
\&  5                 400% zoom
\&  6                 800% zoom
\&  7                 1200% zoom
\&  8                 1600% zoom
\&  9                 2000% zoom
.Ve
.PP
.Vb 11
\&  F1                Help
\&  F2                Choose Pattern
\&  F3                Choose Brush
\&  F4                Paint Tool
\&  F5                Pixel Shuffle
\&  F6                Flood Fill
\&  F7                Straight Line
\&  F8                Smudge
\&  F9                Selection Tool
\&  F11               Toggle normal or continuous painting mode
\&  F12               Toggle undo opacity mode
.Ve
.PP
.Vb 2
\&  Ctrl + F1 - F12   Save current clipboard to file 1-12
\&  Shift + F1 - F12  Load clipboard from file 1-12
.Ve
.PP
.Vb 3
\&  Ctrl + 1, 2, ... , 0  Set opacity to 10%, 20%, ... , 100% (main or keypad numbers)
\&  Ctrl + + or =     Increase opacity by 1%
\&  Ctrl + -          Decrease opacity by 1%
.Ve
.PP
.Vb 4
\&  Home              Show or hide main window menu/toolbar/status bar/palette
\&  Page Up           Scale Image
\&  Page Down         Resize Image canvas
\&  End               Pan Window
.Ve
.Sh "Mouse shortcuts"
.IX Subsection "Mouse shortcuts"
.Vb 3
\&  Left button          Paint to canvas using the current tool
\&  Middle button        Set the centre for the next zoom
\&  Right button         Commit paste to canvas / Stop drawing current line / Cancel selection
.Ve
.PP
.Vb 1
\&  Scroll Wheel         In GTK+2 the user can have the scroll wheel zoom in or out via the Preferences window
.Ve
.PP
.Vb 2
\&  Ctrl+Left button     Choose colour A from under mouse pointer
\&  Ctrl+Right button    Choose colour B from under mouse pointer
.Ve
.PP
.Vb 1
\&  Shift+Right button   Set the centre for the next zoom
.Ve
.PP
You can fixate the X/Y co-ordinates while moving the mouse:
.PP
.Vb 2
\&  Shift                Constrain mouse movements to vertical line
\&  Shift+Ctrl           Constrain mouse movements to horizontal line
.Ve
.Sh "Limitations"
.IX Subsection "Limitations"
I have set the maximum image geometry to 16384x16384.  The minimum geometry is 1x1.
.PP
After loading a new palette, the canvas may contain references to colours that are not defined.  I call these orphan pixels.  If you examine the image information via the Image menu you will see how many pixels have been orphaned.  You can retrieve the pixels by expanding the palette to 256 items and then \*(L"Palette\->Remove Unused Colours\*(R".
.PP
When using the colour A/B editor, if colour A = colour B, you must edit colour B to change its \s-1RGB\s0.
.PP
On some systems there are problems when editing large images at high zoom levels, e.g. 2048x2048 @ 1600%
.PP
Some key combinations may not work under certain window managers, e.g. Shift+F1\-F12 or Ctrl+Mouse button.
.PP
Using the status bar items \*(L"Cursor X,Y\*(R" and \*(L"Pixel [I] {\s-1RGB\s0}\*(R" can cause high \s-1CPU\s0 usage on older hardware when moving the cursor vigorously.
.PP
mtPaint does not support alpha channels so if you load a \s-1PNG\s0 file with an alpha channel, the image may not look correct.  However, mtPaint is capable of loading and saving a \s-1PNG\s0 file with a single colour transparency on both \s-1RGB\s0 and Indexed Palette images.
.PP
The maximum number of layers is 100.
.PP
Text rotation does not work in Windows \s-1ME/95\s0.
.PP
The polygon line selection in Windows is not as clear as the GNU/Linux version.
.Sh "Tips"
.IX Subsection "Tips"
Palette
.PP
If you are editing an \s-1RGB\s0 image and you want to populate the palette with colours from the image, the easiest way to do this is to call up the \*(L"Edit all colours\*(R" window and then use the eye dropper tool to select the colours you want.  Moreover, you can use this method to grab any colours on your current desktop.  This feature is only available with \s-1GTK+2\s0.  If you want a more approximate method you could try:
.PP
.Vb 2
\&        1) Use "Palette->Set Palette Size" to set the size of the palette
\&        2) Use "Palette->Create Quantized" to approximate the palette to the image
.Ve
.PP
Effects
.PP
When I emboss an image I usually like to emphasise the effect by using the \*(L"Transform Colour\*(R" window to reduce the saturation to greyscale and increase the contrast to highlight the edges.
.PP
Files
.PP
If you are using several clipboards and you want to have more control over the images (e.g. rotate them to any angle or apply effects), open all of the clipboards in a new mtPaint process with:
.PP
mtpaint ~/.clip*
.PP
You can then edit/save the clipboards in one mtPaint window and then apply them to your main image in another mtPaint window.
.PP
It is possible to use mtPaint to create fade frames for use in animations.  To fade an image you must:
.PP
.Vb 4
\&        1) Load the relevant frame you want to fade
\&        2) Open the transform window and set brightness to -32
\&        3) Click apply 8 times
\&        4) Save undo images for fading out and save undo images (reverse) for fading in
.Ve
.PP
Quantizing
.PP
If you want to quantize an \s-1RGB\s0 photo down to just a few colours (e.g. 32) and get the best quality without waiting for a full \s-1DL3\s0 quantize you could try the following:
.PP
.Vb 3
\&        1) Use DL1 to reduce the image to 256 colours
\&        2) Convert to RGB
\&        3) Use DL3 to reduce the image to 32 colours
.Ve
.PP
This example illustrates the fact that \s-1DL3\s0 takes time proportionate to the number of unique colours in the image.  You could also reduce the number of colours in the image by posterizing to a level of 3 or 4 and then trying \s-1DL3\s0.
.PP
Text
.PP
mtPaint has support for adding basic text strings to an image, but if you want more advanced text features like justification, you can always type some text into your favourite editor/wordprocessor, grab a screenshot and then paste the result.  If you paste with the background colour as a transparency, the text can flow around the image.
.PP
Screenshots
.PP
mtPaint can be used to grab a screenshot with either File\->New or using \*(L"mtpaint \-s\*(R" from the command line.  If you are an IceWM user you can assign the key \*(L"Print Screen\*(R" to grab a screenshot by editing the file ~/.icewm/keys to include:
.PP
key \*(L"Print\*(R" mtpaint \-s
.PP
Brushes
.PP
If you have a particular preference for certain types of brushes, such as circles or sprays, you can manually edit the sources to cater for your needs.  Edit memory.c and find mem_brush_list which defines all of the brushes.  Each entry is defined by a tool type, tool size and flow.
.SH "HOMEPAGE"
.IX Header "HOMEPAGE"
http://mtpaint.sourceforge.net/
.SH "AUTHOR"
.IX Header "AUTHOR"
Mark Tyler <marktyler_5@hotmail.com>
.PP
The development of mtPaint has been helped by various people from the free software community.  See \*(L"Credits\*(R" in the \s-1README\s0 or the mtPaint help system for details.
